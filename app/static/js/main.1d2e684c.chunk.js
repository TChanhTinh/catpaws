(this["webpackJsonpcatpaws-app"]=this["webpackJsonpcatpaws-app"]||[]).push([[0],{207:function(e,n,a){e.exports=a(375)},217:function(e,n,a){},222:function(e,n){},224:function(e,n){},235:function(e,n){},237:function(e,n){},264:function(e,n){},266:function(e,n){},267:function(e,n){},273:function(e,n){},275:function(e,n){},293:function(e,n){},296:function(e,n){},312:function(e,n){},315:function(e,n){},319:function(e,n,a){},375:function(e,n,a){"use strict";a.r(n);var t=a(0),c=a.n(t),l=a(8),o=a.n(l),r=a(63),i=(a(217),a(58)),s=a(378),u=a(379),h=a(122);function d(e,n,a,t,c){return{type:"ADD_BLOCK",index:e,nonce:n,data:a,prevHash:t,hash:c}}var f=a(376),v=a(377),E=a(118),m=a.n(E),p=a(119),b=a.n(p),k={string:"000000000000000000000",complex:2},O=function(e,n){return b.a.stringify(m()(e+n))},g=(a(319),f.a.Title),x=v.a.TextArea,j=Object(r.b)(null,(function(e){return{setBlock:function(n,a,t,c,l){e(function(e,n,a,t,c){return{type:"SET_BLOCK",index:e,nonce:n,data:a,prevHash:t,hash:c}}(n,a,t,c,l))},addBlock:function(n,a,t,c,l){e(d(n,a,t,c,l))}}}))((function(e){var n=e.index,a=e.prevHash,l=e.setBlock,o=e.changed,r=Object(t.useState)(""),d=Object(i.a)(r,2),f=d[0],E=d[1],p=Object(t.useState)(0),j=Object(i.a)(p,2),w=j[0],H=j[1],S=Object(t.useState)(""),_=Object(i.a)(S,2),B=_[0],D=_[1],y=Object(t.useState)(!1),C=Object(i.a)(y,2),T=C[0],N=C[1];function A(){H(function(e){for(var n=0,a="";a.slice(0,2)!==k.string.slice(0,k.complex);)n++,a=b.a.stringify(m()(n+e));return n}(n+f+a))}return Object(t.useEffect)((function(){var e=O(w,n+f+a);D(e),N(function(e){return e.slice(0,k.complex)===k.string.slice(0,k.complex)}(e))}),[w,f,o]),c.a.createElement("div",{className:(T?"block-vaild":"block-unvaild")+" block"},c.a.createElement(s.a,null,c.a.createElement(u.a,{span:6},c.a.createElement(g,{level:4},"Block")),c.a.createElement(u.a,{span:18},c.a.createElement(v.a,{value:n,placeholder:"Block"}))),c.a.createElement(s.a,null,c.a.createElement(u.a,{span:6},c.a.createElement(g,{level:4},"Nonce")),c.a.createElement(u.a,{span:18},c.a.createElement(v.a,{value:w,onChange:function(e){H(e.target.value)},placeholder:"Nonce"}))),c.a.createElement(s.a,null,c.a.createElement(u.a,{span:6},c.a.createElement(g,{level:4},"Data")),c.a.createElement(u.a,{span:18},c.a.createElement(x,{onChange:function(e){E(e.target.value)},placeholder:"Data"}))),c.a.createElement(s.a,null,c.a.createElement(u.a,{span:6},c.a.createElement(g,{level:4},"PrevHash")),c.a.createElement(u.a,{span:18},c.a.createElement(v.a,{value:a,placeholder:"PrevHash"}))),c.a.createElement(s.a,null,c.a.createElement(u.a,{span:6},c.a.createElement(g,{level:4},"Hash")),c.a.createElement(u.a,{span:18},c.a.createElement(v.a,{value:B,placeholder:"Hash"}))),c.a.createElement(h.a,{onClick:function(){return A()}},"Mine"),c.a.createElement(h.a,{onClick:function(){l(n,w,f,a,B)}},"Set block"))})),w=Object(r.b)((function(e){var n=e.blockchain;return{blockchain:n[n.length-1].blocks,stateCount:n.length}}),(function(e){return{addBlock:function(){return e(d())}}}))((function(e){var n=e.blockchain,a=e.stateCount,l=e.addBlock,o=Object(t.useState)(!1),r=Object(i.a)(o,2),d=r[0],f=r[1];return Object(t.useEffect)((function(){f(!d)}),[a]),c.a.createElement("div",null,c.a.createElement(s.a,null,n.map((function(e,n){return c.a.createElement(u.a,{span:6},c.a.createElement(j,{index:e.index,prevHash:e.prevHash,changed:d}))})),c.a.createElement(h.a,{onClick:l},"Add block")))}));a(374);var H=function(){return c.a.createElement("div",null,c.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=a(76),_=a(123),B=a(81),D=a(76).combineReducers,y={index:0,nonce:1038,data:"",prevHash:"0",hash:"00ltkuFiz2DNoA0JeKv07ZJADy9kyfSJddNexcayIFDYS7RSyBJAVq8JfV1oRFlVY0zAweFEVr5exruY2sTKtQ=="},C=function(e,n){if(0!==e)for(var a=e;a<n.length;a++)n[a].prevHash=n[a-1].hash,n[a].hash=O(n[a].nonce,n[a].index+n[a].data+n[a].prevHash)},T=D({blocks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[y],n=arguments.length>1?arguments[1]:void 0,a=e[e.length-1];switch(n.type){case"SET_BLOCK":return[].concat(Object(B.a)(e),[Object(_.a)(Object(_.a)({},a),{},{data:n.data,nonce:n.nonce,hash:n.hash})]);default:return e}},blockchain:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{blocks:[y]}],n=arguments.length>1?arguments[1]:void 0,a=e[e.length-1];switch(n.type){case"ADD_BLOCK":return[].concat(Object(B.a)(e),[{blocks:[].concat(Object(B.a)(a.blocks),[{index:a.blocks.length,nonce:0,data:"",prevHash:a.blocks[a.blocks.length-1].hash,hash:""}])}]);case"SET_BLOCK":return a.blocks[n.index]={index:n.index,nonce:n.nonce,data:n.data,prevHash:n.prevHash,hash:n.hash},C(n.index,a.blocks),[].concat(Object(B.a)(e),[a]);default:return e}}}),N=Object(S.createStore)(T,[{block:{index:0,nonce:0,data:"",prevHash:"0",hash:""},blockchain:{blocks:[{index:0,nonce:0,data:"",prevHash:"0",hash:""}]}}],window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(c.a.createElement(r.a,{store:N},c.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[207,1,2]]]);
//# sourceMappingURL=main.1d2e684c.chunk.js.map